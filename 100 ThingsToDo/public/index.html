<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ThingsToDo Kawaii - Crea y gestiona listas de tareas rom√°nticas con tu pareja">
    <title>ThingsToDo Kawaii</title> 

        <!-- ============================================ -->
    <!-- ======> A√ëADE ESTAS L√çNEAS DE C√ìDIGO <======= -->
    <!-- ============================================ -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#8B6F47">
    <!-- ============================================ -->
    
    <!-- Google Fonts - Fuentes Kawaii -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&family=Fredoka:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>

</head>
<body>
    <!-- Contenedor principal de la aplicaci√≥n -->
    <div id="app">
        <!-- Pantalla de carga -->
        <div id="loading-screen" class="loading-screen">
            <div class="loading-spinner">
                <svg class="heart-icon animate-heart-beat" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                </svg>
            </div>
        </div>

        <!-- P√°gina de inicio (Login) -->
        <div id="home-page" class="page" style="display: none;">
            <div class="home-container">
                <div class="home-content">
                    <div class="home-icon animate-bounce-gentle">
                        <svg class="heart-icon-large" width="64" height="64" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2">
                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                        </svg>
                    </div>

                    <h1 class="home-title">ThingsToDo</h1>
                    <p class="home-subtitle">Kawaii</p>
                    <p class="home-description">
                        Crea y gestiona listas de tareas rom√°nticas con tu pareja
                    </p>

                    <button id="login-btn" class="btn btn-primary btn-login">
                        <svg class="google-icon" viewBox="0 0 24 24" width="20" height="20">
                            <path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        Iniciar Sesi√≥n con Google
                    </button>

                    <div class="home-features">
                        <div class="feature-card glass">
                            <div class="feature-icon">üíï</div>
                            <p class="feature-text">Planes</p>
                        </div>
                        <div class="feature-card glass">
                            <div class="feature-icon">‚ú®</div>
                            <p class="feature-text">Kawaii</p>
                        </div>
                        <div class="feature-card glass">
                            <div class="feature-icon">üöÄ</div>
                            <p class="feature-text">Parejas</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard -->
        <div id="dashboard-page" class="page" style="display: none;">
            <header class="header">
                <div class="header-content">
                    <div class="header-left">
                        <svg class="heart-icon-header" width="28" height="28" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2">
                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                        </svg>
                        <h1 class="header-title">ThingsToDo</h1>
                    </div>
                    <div class="header-right">
                        <span id="user-name" class="user-name"></span>


                                                <!-- ===> A√ëADE ESTE BOT√ìN <=== -->
<button id="stats-btn" class="btn-icon" title="Ver Estad√≠sticas" style="display: none;">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 20V10M18 20V4M6 20V16"/>
    </svg>
</button>




<!-- ===> A√ëADE ESTE BOT√ìN <=== 
<button id="open-notifications-modal-btn" class="btn-icon" title="Configurar Notificaciones">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
    </svg>
</button> -->
                        <button id="couple-btn" class="btn-icon" title="Gestionar Pareja">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
        <circle cx="9" cy="7" r="4"></circle>
        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
    </svg>
</button>

                            <!-- ============================================ -->
    <!-- ======> NUEVO BOT√ìN DE "TEL√âFONO" <======= -->
    <!-- ============================================ -->
    <button id="open-phone-modal-btn" class="btn-icon" title="Centro de Actividades">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
            <line x1="12" y1="18" x2="12.01" y2="18"></line>
        </svg>
    </button>


                        <button id="logout-btn" class="btn-icon">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                <polyline points="16 17 21 12 16 7"></polyline>
                                <line x1="21" y1="12" x2="9" y2="12"></line>
                            </svg>
                        </button>
                    </div>
                </div>
            </header>

            <main class="main-content">
                <div class="dashboard-actions">
                    <button id="new-plan-btn" class="btn btn-primary" disabled title="Vincula una pareja para crear planes compartidos">

                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Crear Nuevo Plan
                    </button>



                </div>




                    <!-- ============================================ -->
    <!-- ======> A√ëADE ESTE BLOQUE DE C√ìDIGO <======= -->
    <!-- ============================================ -->
    <div id="link-partner-banner" class="link-partner-banner" style="display: none;">
        <div class="banner-icon">üíå</div>
        <div class="banner-text">
            <h3>¬°Conecta con tu pareja!</h3>
            <p>Comparte tu c√≥digo o ingresa el de tu pareja para empezar a crear planes juntos.</p>
        </div>
        <button id="go-to-couple-modal-btn" class="btn btn-primary">Vincular ahora</button>
    </div>
    <!-- ============================================ -->

                <!-- Formulario de nuevo plan -->
                <div id="new-plan-form" class="form-card" style="display: none;">
                    <h2 class="form-title">Nuevo Plan</h2>
                    <input type="text" id="plan-title-input" class="input" placeholder="T√≠tulo del plan">
                    <textarea id="plan-desc-input" class="textarea" placeholder="Descripci√≥n (opcional)" rows="3"></textarea>
                    <div class="form-actions">
                        <button id="create-plan-btn" class="btn btn-primary">Crear</button>
                        <button id="cancel-plan-btn" class="btn btn-outline">Cancelar</button>
                    </div>
                </div>

                <!-- Lista de planes -->
                <div id="plans-container" class="plans-grid">
                    <!-- Los planes se cargar√°n din√°micamente aqu√≠ -->
                </div>

                <!-- Estado vac√≠o -->
                <div id="empty-state" class="empty-state" style="display: none;">
                    <div class="empty-icon">üìù</div>
                    <h2 class="empty-title">No hay planes a√∫n</h2>
                    <p class="empty-text">
                        Crea tu primer plan rom√°ntico haciendo clic en el bot√≥n de arriba
                    </p>
                </div>
            </main>
        </div>

        <!-- Detalle del Plan -->
        <div id="plan-detail-page" class="page" style="display: none;">
            <header class="header">
                <div class="header-content">
                    <button id="back-btn" class="btn-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="19" y1="12" x2="5" y2="12"></line>
                            <polyline points="12 19 5 12 12 5"></polyline>
                        </svg>
                    </button>
                    <div class="header-plan-info">
                        <h1 id="plan-detail-title" class="header-title"></h1>
                        <p id="plan-detail-desc" class="header-subtitle"></p>
                    </div>
                </div>
            </header>

            <main class="main-content">
                <!-- Barra de progreso -->
                <div class="progress-section">
                    <div class="progress-info">
                        <span id="progress-text" class="progress-text">0/0</span>
                    </div>
                    <div class="progress-bar">
                        <div id="progress-fill" class="progress-fill"></div>
                    </div>
                </div>

                <div class="dashboard-actions">
                    <button id="new-task-btn" class="btn btn-primary">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Agregar Tarea
                    </button>
                </div>

                <!-- Formulario de nueva tarea -->
                <div id="new-task-form" class="form-card" style="display: none;">
                    <h2 class="form-title">Nueva Tarea</h2>
                    <input type="text" id="task-title-input" class="input" placeholder="T√≠tulo de la tarea">
                    <div class="icon-selector">
                        <label class="icon-selector-label">√çcono personalizado</label>
                        <div id="icon-grid" class="icon-grid">
                            <!-- Los iconos se cargar√°n din√°micamente -->
                        </div>
                    </div>
                    <div class="form-actions">
                        <button id="create-task-btn" class="btn btn-primary">Crear</button>
                        <button id="cancel-task-btn" class="btn btn-outline">Cancelar</button>
                    </div>
                </div>

                <!-- Lista de tareas -->
                <div id="tasks-container" class="tasks-list">
                    <!-- Las tareas se cargar√°n din√°micamente aqu√≠ -->
                </div>

                <!-- Estado vac√≠o -->
                <div id="tasks-empty-state" class="empty-state" style="display: none;">
                    <div class="empty-icon">‚ú®</div>
                    <h2 class="empty-title">Sin tareas a√∫n</h2>
                    <p class="empty-text">
                        Agrega tu primera tarea haciendo clic en el bot√≥n de arriba
                    </p>
                </div>
            </main>
        </div>
    </div>


    <!-- Modal de Pareja -->
<div id="couple-modal" class="modal" style="display: none;">
    <div class="modal-overlay"></div>
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">üíï Gestionar Pareja</h2>
            <button id="close-modal-btn" class="btn-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
        
        <div class="modal-body">
            <!-- Vista: Sin pareja vinculada -->
            <div id="couple-unlinked-view" style="display: none;">
                <div class="couple-section">
                    <h3 class="couple-section-title">Tu C√≥digo √önico</h3>
                    <p class="couple-section-desc">Comparte este c√≥digo con tu pareja para vincular sus cuentas</p>
                    <div class="couple-code-display">
                        <span id="user-couple-code" class="couple-code">------</span>
                        <button id="copy-code-btn" class="btn-icon-small" title="Copiar c√≥digo">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div class="couple-divider">
                    <span>o</span>
                </div>
                
                <div class="couple-section">
                    <h3 class="couple-section-title">Vincular con Pareja</h3>
                    <p class="couple-section-desc">Ingresa el c√≥digo de tu pareja para compartir planes</p>
                    <div class="couple-input-group">
                        <input type="text" id="partner-code-input" class="input couple-input" placeholder="Ej: AB12CD" maxlength="6">
                        <button id="link-partner-btn" class="btn btn-primary">Vincular</button>
                    </div>
                </div>
            </div>
            
            <!-- Vista: Pareja vinculada -->
            <div id="couple-linked-view" style="display: none;">
                <div class="couple-linked-card">
                    <div class="couple-linked-icon">üíè</div>
                    <h3 class="couple-linked-title">Vinculado con</h3>
                    <p id="partner-name-display" class="couple-linked-name">---</p>
                    <p id="linked-date-display" class="couple-linked-date">---</p>
                    
                    <div class="couple-linked-info">
                        <p class="couple-info-text">
                            ‚ú® Ahora pueden compartir planes y tareas juntos
                        </p>
                    </div>
                    
                    <button id="unlink-partner-btn" class="btn btn-outline btn-danger">
                        Desvincular Pareja
                    </button>
                </div>
            </div>
            
            <!-- Vista: Cargando -->
            <div id="couple-loading-view" style="display: block;">
                <div class="couple-loading">
                    <svg class="heart-icon animate-heart-beat" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                    </svg>
                    <p class="couple-loading-text">Cargando...</p>
                </div>
            </div>

                    <!-- ============================================ -->
        <!-- ======> A√ëADE ESTA NUEVA VISTA AQU√ç <======= -->
        <!-- ============================================ -->
        <div id="couple-about-view" style="display: none;">
            <div class="about-section">
                <div class="about-icon">üíñ</div>
                <h3 class="about-title">ThingsToDo Kawaii</h3>
                <p class="about-version">Versi√≥n 1.0</p>
                <p class="about-description">
                    Creada con amor para ayudar a las parejas a organizar sus sue√±os y metas juntos.
                </p>
                
                <div class="credits-section">
                    <h4>Hecho por:</h4>
                    <p>[¬°MashLanzer!]</p>
                    
                    <h4>Agradecimientos:</h4>
                    <ul>
                        <li>------</li>
                    </ul>
                </div>
                
                <button id="back-to-couple-view-btn" class="btn btn-outline">Volver</button>
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- ======> A√ëADE ESTE PIE DE MODAL AQU√ç <======= -->
    <!-- ============================================ -->
    <div class="modal-footer">
        <button id="open-about-view-btn" class="btn-link">Acerca de esta App</button>
    </div>
</div>

</div>



    



<!-- ============================================ -->
<!-- ======> A√ëADE ESTE MODAL DE EDICI√ìN <======= -->
<!-- ============================================ -->
<div id="edit-plan-modal" class="modal" style="display: none;">
    <div class="modal-overlay"></div>
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">‚úèÔ∏è Editar Plan</h2>
            <button id="close-edit-modal-btn" class="btn-icon">
                <!-- SVG de cierre (X) -->
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
        <div class="modal-body">
            <input type="hidden" id="edit-plan-id-input">
            <input type="text" id="edit-plan-title-input" class="input" placeholder="T√≠tulo del plan">
            <textarea id="edit-plan-desc-input" class="textarea" placeholder="Descripci√≥n (opcional)" rows="3"></textarea>
            <div class="form-actions">
                <button id="update-plan-btn" class="btn btn-primary">Guardar Cambios</button>
                <button id="delete-plan-btn" class="btn btn-outline btn-danger">Eliminar Plan</button>
            </div>
        </div>
    </div>
</div>


<!-- ============================================ -->
<!-- ======> A√ëADE ESTE MODAL DE ESTAD√çSTICAS <== -->
<!-- ============================================ -->
<div id="stats-modal" class="modal" style="display: none;">
    <div class="modal-overlay"></div>
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">üìä Estad√≠sticas de Pareja</h2>
            <button id="close-stats-modal-btn" class="btn-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
        <div id="stats-modal-body" class="modal-body">
            <!-- Vista de Carga -->
            <div id="stats-loading-view">
                <div class="couple-loading">
                    <svg class="heart-icon animate-heart-beat" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                    </svg>
                    <p class="couple-loading-text">Calculando logros...</p>
                </div>
            </div>
            <!-- Contenido de Estad√≠sticas -->
            <div id="stats-content-view" style="display: none;">
                <!-- Estad√≠sticas Generales -->
                <div class="stats-section">
                    <h3 class="stats-section-title">Resumen General</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="stat-total-plans">0</div>
                            <div class="stat-label">Planes Creados</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="stat-completed-plans">0</div>
                            <div class="stat-label">Planes Completados</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="stat-total-tasks">0</div>
                            <div class="stat-label">Tareas Totales</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="stat-completion-percentage">0%</div>
                            <div class="stat-label">Completado</div>
                        </div>
                    </div>
                </div>
                <!-- Estad√≠sticas Individuales -->
                <div class="stats-section">
                    <h3 class="stats-section-title">Aportaci√≥n Individual</h3>
                    <div class="stats-comparison">
                        <div class="stat-person">
                            <div class="stat-person-name" id="stat-user-name">T√∫</div>
                            <div class="stat-person-value" id="stat-user-tasks">0</div>
                            <div class="stat-person-label">Tareas completadas</div>
                        </div>
                        <div class="stat-divider">üíï</div>
                        <div class="stat-person">
                            <div class="stat-person-name" id="stat-partner-name">Pareja</div>
                            <div class="stat-person-value" id="stat-partner-tasks">0</div>
                            <div class="stat-person-label">Tareas completadas</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<!-- ============================================ -->
<!-- ======> MODAL DE CONFIRMACI√ìN DE SALIDA <======= -->
<!-- ============================================ -->
<div id="logout-confirm-modal" class="modal" style="display: none;">
    <div class="modal-overlay"></div>
    <div class="modal-content modal-sm">
        <div class="modal-header">
            <h2 class="modal-title">¬øYa te vas?</h2>
            <button id="close-logout-modal-btn" class="btn-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
        <div class="modal-body" style="text-align: center;">
            <div class="confirm-icon">üëã</div>
            <p class="confirm-text">
                ¬øEst√°s seguro de que quieres cerrar sesi√≥n?
            </p>
            <div class="form-actions confirm-actions">
                <button id="cancel-logout-btn" class="btn btn-outline">Cancelar</button>
                <button id="confirm-logout-btn" class="btn btn-danger">S√≠, salir</button>
            </div>
        </div>
    </div>
</div>
<!-- ============================================ -->



<!-- ============================================ -->
<!-- ====> MODAL PARA ACTIVAR NOTIFICACIONES <==== -->
<!-- ============================================ -->
<div id="notifications-modal" class="modal" style="display: none;">
    <div class="modal-overlay"></div>
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">üîî Activar Notificaciones</h2>
            <button id="close-notifications-modal-btn" class="btn-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
        <div class="modal-body" style="text-align: center;">
            <p class="about-description">
                ¬øQuieres recibir un aviso cuando tu pareja complete una tarea o cree un nuevo plan?
            </p>
            <button id="enable-notifications-btn" class="btn btn-primary">S√≠, activar notificaciones</button>
        </div>
    </div>
</div>



<!-- ============================================ -->
<!-- ======> MODAL DE TAREA SORPRESA <======= -->
<!-- ============================================ -->
<div id="surprise-task-modal" class="modal" style="display: none;">
    <div class="modal-overlay"></div>
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">¬°Tarea Sorpresa!</h2>
            <button id="close-surprise-modal-btn" class="btn-icon">
                <!-- ... SVG de cierre (X) ... -->
            </button>
        </div>
        <div class="modal-body" style="text-align: center;">
            <div id="surprise-task-content" class="surprise-task-reveal">
                <div class="surprise-emoji"></div>
                <p class="surprise-text"></p>
            </div>
            <div class="form-actions" style="margin-top: 1.5rem;">
                <button id="accept-surprise-task-btn" class="btn btn-primary">¬°Aceptamos el reto!</button>
                <button id="reroll-surprise-task-btn" class="btn btn-outline">Otra, por favor</button>
            </div>
        </div>
    </div>
</div>




<!-- ============================================ -->
<!-- ======> MODAL DEL TEL√âFONO KAWAII <======= -->
<!-- ============================================ -->
<div id="phone-modal" class="modal" style="display: none;">
    <div class="modal-overlay"></div>
    <div class="phone-container">

            <!-- ============================================ -->
    <!-- ======> NUEVO BOT√ìN DE SWITCH MODO TABLET <======= -->
    <!-- ============================================ 
    <button id="device-switch-btn" class="device-switch-btn" title="Cambiar a modo Tablet">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="2" y="3" width="20" height="18" rx="2"></rect>
            <line x1="2" y1="12" x2="22" y2="12"></line>
        </svg>
    </button> -->

        <div class="phone-notch"></div>
<!-- ... dentro de <div id="phone-modal"> ... -->
<div class="phone-screen">
    <!-- ============================================ -->
    <!-- ======> ESTRUCTURA HTML CORREGIDA <======= -->
    <!-- ============================================ -->
    <div class="phone-app-container">
        <!-- Pantalla de inicio del tel√©fono (AHORA ES UNA VISTA M√ÅS) -->
        <div id="phone-view-homescreen" class="phone-app-view active">
            <div class="phone-header">
                    <span id="phone-time-display" class="time">10:30</span>
                <span class="icons">üì∂ üîã</span>
            </div>
            <div class="app-grid">
                     <!-- App 0: Diario -->
                    <div class="app-icon" data-app="journal">
        <div class="app-icon-bg" style="background: #c3e6cb;">üóìÔ∏è</div>
        <span class="app-name">Diario</span>
    </div>

        <!-- App : Musica -->
        <div class="app-icon" data-app="soundtrack">
        <div class="app-icon-bg" style="background: #a2d2ff;">üéß</div>
        <span class="app-name">Musica</span>
    </div>

                <!-- App 1: Tarea Sorpresa -->
                <div class="app-icon" data-app="surprise">
                    <div class="app-icon-bg" style="background: #ffdeeb;">üéÅ</div>
                    <span class="app-name">Reto Diario</span>
                </div>
                <!-- App 2: Capsula del tiempo -->
                    <div class="app-icon" data-app="timecapsule">
        <div class="app-icon-bg" style="background: #f6eac2;">‚è≥</div>
        <span class="app-name">C√°psula Temporal</span>
    </div>
          <!-- App 2: Metas -->
        <div class="app-icon" data-app="budget">
        <div class="app-icon-bg" style="background: #d4edda;">üí∞</div>
        <span class="app-name">Metas Futuras</span>
    </div>

     <!-- App : Ruleta -->
    <div class="app-icon" data-app="decision-wheel">
    <div class="app-icon-bg" style="background: #ffc9a2;">üé°</div>
    <span class="app-name">¬øQu√© Hacemos?</span>
</div>

 <!-- App : Cupones -->
<div class="app-icon" data-app="coupons">
    <div class="app-icon-bg" style="background: #fecaca;">üéüÔ∏è</div>
    <span class="app-name">Vale por...</span>
</div>




<!-- Nuevas apps -->
<!-- App : Tarro de Agradecimientos -->
<div class="app-icon" data-app="gratitude">
    <div class="app-icon-bg" style="background: #d1c4e9;">üè∫</div>
    <span class="app-name">Gracias Por...</span>
</div>

<!-- App : Mapa de Aventuras -->
<div class="app-icon" data-app="map">
    <div class="app-icon-bg" style="background: #b2fab4;">üó∫Ô∏è</div>
    <span class="app-name">Mapa de Aventuras</span>
</div>

<!-- App : Cu√°nto nos conocemos -->
<div class="app-icon" data-app="quiz">
    <div class="app-icon-bg" style="background: #ffe0b2;">‚ùì</div>
    <span class="app-name">¬øCu√°nto nos conocemos?</span>
</div>

<!-- App : Calendario de Citas -->
<div class="app-icon" data-app="calendar">
    <div class="app-icon-bg" style="background: #bbdefb;">üìÖ</div>
    <span class="app-name">Pr√≥xima Cita</span>
</div>

                <!-- App : Pr√≥ximamente... -->
                <div class="app-icon disabled"> 
                    <div class="app-icon-bg">‚ú®</div>
                    <span class="app-name">Pr√≥ximamente</span>
                </div>
                
</div>
</div>

<!-- Pantalla de la App "Tarea Sorpresa" -->
<div id="phone-view-surprise" class="phone-app-view">
    <div class="app-content-header">
        <button class="back-to-home-btn">‚Äπ</button>
        <span>Reto Diario</span>
    </div>
    <div class="app-content-body surprise-app-body">
        <div class="surprise-card">
            <div class="surprise-card-inner">
                <div class="surprise-card-front">
                    <div class="question-mark">?</div>
                    <p>¬øListos para un nuevo reto?</p>
                </div>
                <div class="surprise-card-back">
                    <div class="surprise-emoji"></div>
                    <p class="surprise-text"></p>
                </div>
            </div>
        </div>
        <div class="surprise-actions">
            <button id="reroll-surprise-task-btn" class="btn btn-outline">Buscar otra idea</button>
            <button id="accept-surprise-task-btn" class="btn btn-primary">¬°Aceptamos!</button>
        </div>
    </div>
</div>
    
    <!-- ============================================ -->

<!-- Vista Principal de la C√°psula del Tiempo (Lista de c√°psulas) -->
<div id="phone-view-timecapsule" class="phone-app-view">
    <div class="app-content-header">
        <button class="back-to-home-btn">‚Äπ</button>
        <span>C√°psulas del Tiempo</span>
    </div>
    <div class="app-content-body">
        <div id="capsules-list" class="capsules-list">
            <!-- Las c√°psulas se cargar√°n aqu√≠ -->
            <div id="capsules-empty-state" class="capsules-empty-state">
                <div class="empty-icon">üíå</div>
                <p>A√∫n no hay c√°psulas del tiempo. ¬°Crea la primera!</p>
            </div>
        </div>
        <button id="go-to-create-capsule-btn" class="btn btn-primary" style="margin-top: auto;">
            + Crear Nueva C√°psula
        </button>
    </div>
</div>

<!-- Vista para Crear una Nueva C√°psula -->
<div id="phone-view-createcapsule" class="phone-app-view">
    <div class="app-content-header">
        <button class="back-to-capsule-list-btn">‚Äπ</button>
        <span>Nueva C√°psula</span>
    </div>
    <div class="app-content-body">
        <textarea id="capsule-message-input" class="textarea" placeholder="Escribe tu mensaje para el futuro..." rows="8"></textarea>
        <label for="capsule-unlock-date-input">Fecha de apertura:</label>
        <input type="date" id="capsule-unlock-date-input" class="input">
        <button id="save-capsule-btn" class="btn btn-primary">Sellar C√°psula</button>
    </div>
</div>
<!-- ============================================ -->


<!-- Vista Principal de Metas (Lista de presupuestos) -->
<div id="phone-view-budget" class="phone-app-view">
    <div class="app-content-header">
        <button class="back-to-home-btn">‚Äπ</button>
        <span>Nuestras Metas</span>
    </div>
    <div class="app-content-body">
        <div id="goals-list" class="goals-list">
            <!-- Las metas se cargar√°n aqu√≠ -->
            <div id="goals-empty-state" class="capsules-empty-state">
                <div class="empty-icon">üéØ</div>
                <p>¬°Vamos a por nuestro primer objetivo! Crea una nueva meta de ahorro.</p>
            </div>
        </div>
        <button id="go-to-create-goal-btn" class="btn btn-primary" style="margin-top: auto;">
            + Nueva Meta de Ahorro
        </button>
    </div>
</div>

<!-- Vista para Crear/Ver una Meta -->
<div id="phone-view-goaldetail" class="phone-app-view">
    <div class="app-content-header">
        <button class="back-to-budget-list-btn">‚Äπ</button>
        <span id="goal-detail-title">Detalle de la Meta</span>
    </div>
    <div class="app-content-body goal-detail-body">
        <!-- Contenedor para crear una nueva meta -->
        <div id="create-goal-container">
            <input type="text" id="goal-name-input" class="input" placeholder="Nombre de la meta (ej: Viaje a Jap√≥n)">
            <input type="number" id="goal-total-input" class="input" placeholder="Cantidad total (‚Ç¨)">
            <button id="save-goal-btn" class="btn btn-primary">Empezar a Ahorrar</button>
        </div>

        <!-- Contenedor para ver una meta existente -->
        <div id="view-goal-container" style="display: none;">
            <div class="piggy-bank-progress">
                <div class="piggy-bank-icon">üêñ</div>
                <div class="piggy-bank-bar">
                    <div id="piggy-bank-fill" class="piggy-bank-fill"></div>
                </div>
            </div>
            <div class="goal-summary">
                <p>Ahorrado: <strong id="goal-current-amount">0‚Ç¨</strong></p>
                <p>Objetivo: <strong id="goal-total-amount">0‚Ç¨</strong></p>
            </div>
            <div class="contribution-form">
                <input type="number" id="contribution-amount-input" class="input" placeholder="A√±adir aportaci√≥n (‚Ç¨)">
                <button id="add-contribution-btn" class="btn btn-primary">Aportar</button>
            </div>
            <div id="goal-contributions-list" class="contributions-list">
                <!-- Las aportaciones se listar√°n aqu√≠ -->
            </div>
        </div>
    </div>
</div>
<!-- ============================================ -->


<!-- Vista Principal del Diario (Calendario) -->
<div id="phone-view-journal" class="phone-app-view">
    <div class="app-content-header">
        <button class="back-to-home-btn">‚Äπ</button>
        <span>Nuestro Diario</span>
    </div>
    <div class="app-content-body journal-calendar-body">
        <div class="calendar-header">
            <button id="journal-prev-month-btn">‚Äπ</button>
            <h3 id="journal-month-year"></h3>
            <button id="journal-next-month-btn">‚Ä∫</button>
        </div>
        <div id="journal-calendar-grid" class="calendar-grid">
            <!-- Los d√≠as del calendario se generar√°n aqu√≠ -->
        </div>
                <div id="journal-preview-widget" class="journal-preview" style="display: none;">
            <h4>√öltimo Recuerdo</h4>
            <div class="preview-content">
                <img id="preview-image" src="">
                <div class="preview-text">
                    <p id="preview-date"></p>
                    <p id="preview-snippet"></p>
                </div>
            </div>
        </div>
        <!-- ============================================ -->
    </div>
</div>


<div id="phone-view-journalread" class="phone-app-view">
    <div class="app-content-header">
        <button class="back-to-journal-btn">‚Äπ</button>
        <span id="journal-read-date"></span>
    </div>
    <div class="app-content-body journal-read-body">
        
        <!-- ============================================ -->
        <!-- ======> NUEVO CARRUSEL DE FOTOS <======= -->
        <!-- ============================================ -->
        <div id="journal-carousel-container" class="carousel-container">
            <div id="journal-carousel-track" class="carousel-track">
                <!-- Las im√°genes se cargar√°n aqu√≠ con JS -->
            </div>
            <button id="carousel-prev-btn" class="carousel-button prev">‚Äπ</button>
            <button id="carousel-next-btn" class="carousel-button next">‚Ä∫</button>
            <div id="carousel-dots" class="carousel-dots">
                <!-- Los puntos indicadores se cargar√°n aqu√≠ -->
            </div>
        </div>
        <!-- ============================================ -->

        <div id="journal-read-text" class="journal-text-display">
            <!-- El texto del diario se mostrar√° aqu√≠ -->
        </div>
        <button id="go-to-edit-entry-btn" class="btn btn-outline" style="margin-top: auto;">
            ‚úèÔ∏è Editar Recuerdo
        </button>
    </div>
</div>
<!-- ============================================ -->


<!-- Vista para Ver/Editar la Entrada de un D√≠a -->
<div id="phone-view-journalentry" class="phone-app-view">
    <div class="app-content-header">
        <button class="back-to-journal-btn">‚Äπ</button>
        <span id="journal-entry-date"></span>
    </div>
    <div class="app-content-body journal-entry-body">
<div id="journal-gallery-container" class="journal-gallery">
    <!-- Las im√°genes se a√±adir√°n aqu√≠ con JS -->
    <div id="journal-add-photo-btn" class="add-photo-button">
        <p>+</p>
        <span>A√±adir foto</span>
    </div>
    <input type="file" id="journal-image-input" accept="image/*" multiple style="display: none;">
</div>
        <textarea id="journal-entry-text" class="textarea" placeholder="¬øQu√© pas√≥ este d√≠a tan especial?..." rows="5"></textarea>
        <button id="save-journal-entry-btn" class="btn btn-primary">Guardar Recuerdo</button>
    </div>
</div>
<!-- ============================================ -->



<!-- Vista Principal (Lista de Playlists) -->
<div id="phone-view-soundtrack" class="phone-app-view">
    <div class="app-content-header">
        <button class="phone-back-btn" data-target="homescreen">‚Äπ</button>
        <span>Nuestra Banda Sonora</span>
    </div>
    <div class="app-content-body">
        <div id="playlists-list" class="playlists-list">
            <!-- Las playlists se cargar√°n aqu√≠ -->
        </div>
        <div class="form-actions" style="width: 100%; margin-top: auto;">
            <input type="text" id="new-playlist-name-input" class="input" placeholder="Nombre de la nueva playlist...">
            <button id="create-playlist-btn" class="btn btn-primary">Crear</button>
        </div>
    </div>
</div>

<!-- Vista de una Playlist (El Casete) -->
<div id="phone-view-playlistdetail" class="phone-app-view">
    <div class="app-content-header">
        <button class="phone-back-btn" data-target="soundtrack">‚Äπ</button>
        <span id="playlist-detail-title"></span>
    </div>
    <div class="app-content-body cassette-player-body">
<div class="cassette-player">
    <div class="cassette-screw top-left"></div>
    <div class="cassette-screw top-right"></div>
    <div class="cassette-label">
        <div class="label-lines"></div>
        <p id="cassette-label-title"></p>
        <div class="label-lines"></div>
    </div>
    <div class="cassette-windows">
        <div class="cassette-window">
            <div class="cassette-spool left">
                <div class="spool-teeth"></div>
            </div>
        </div>
        <div class="cassette-window">
            <div class="cassette-spool right">
                <div class="spool-teeth"></div>
            </div>
        </div>
    </div>
    <div class="cassette-screw bottom-left"></div>
    <div class="cassette-screw bottom-right"></div>
</div>
        </div>
        <div id="song-list" class="song-list">
            <!-- Las canciones se cargar√°n aqu√≠ -->
        </div>
        <button id="go-to-add-song-btn" class="btn btn-primary" style="margin-top: auto;">+ A√±adir Canci√≥n</button>
    </div>
</div>

<!-- Vista para A√±adir una Canci√≥n -->
<div id="phone-view-addsong" class="phone-app-view">
    <div class="app-content-header">
        <button class="phone-back-btn" data-target="playlistdetail">‚Äπ</button>
        <span>A√±adir a la Playlist</span>
    </div>
    <div class="app-content-body add-song-body">
        <input type="text" id="song-name-input" class="input" placeholder="Nombre de la canci√≥n">
        <input type="text" id="youtube-link-input" class="input" placeholder="Pega el enlace de YouTube aqu√≠">
        <button id="save-song-btn" class="btn btn-primary">Guardar Canci√≥n</button>
    </div>
</div>

<!-- Vista para Tocar la Canci√≥n (ESTRUCTURA CORRECTA) -->
<div id="phone-view-player" class="phone-app-view">
    <div class="app-content-header">
        <button class="phone-back-btn" data-target="playlistdetail">‚Äπ</button>
        <span>Reproduciendo...</span>
    </div>
    <div class="app-content-body player-body">
        <div id="youtube-player-container" class="youtube-player-container">
            <!-- El iframe se insertar√° aqu√≠ -->
        </div>
        <div class="turntable-container">
            <div class="turntable-base"></div>
            <div class="turntable-arm">
                <div class="arm-pivot"></div>
                <div class="arm-needle"></div>
            </div>
            <div class="turntable-disc">
                <div class="disc-reflection"></div>
                <div class="disc-label"></div>
            </div>
        </div>
        <div class="now-playing-info">
            <p id="player-song-title">Cargando canci√≥n...</p>
            <span id="player-added-by"></span>
        </div>
    </div>


<!-- ============================================ -->



<!-- ============================================ -->
<!-- ======> NUEVA APP: RUEDA DE DECISIONES <======= -->
<!-- ============================================ -->
        <!-- 14. VISTA DE LA RULETA (AHORA DENTRO DEL CONTENEDOR) -->
        <div id="phone-view-decision-wheel" class="phone-app-view">
            <div class="app-content-header">
                <button class="phone-back-btn" data-target="homescreen">‚Äπ</button>
                <span>Rueda de Decisiones</span>
            </div>
            <div class="app-content-body wheel-app-body">
                <div class="wheel-container">
                    <div class="wheel-marker"></div>
                    <canvas id="decision-wheel-canvas" width="280" height="280"></canvas>
                </div>
                <button id="spin-wheel-btn" class="btn btn-primary">¬°GIRAR!</button>
                <div class="wheel-options-container">
                    <h4>Opciones en la Ruleta</h4>
                    <ul id="wheel-options-list"></ul>
                    <div class="add-option-form">
                        <input type="text" id="new-wheel-option-input" class="input" placeholder="A√±adir nueva opci√≥n...">
                        <button id="add-wheel-option-btn">+</button>
                    </div>
                </div>
            </div>
        </div>

   
<!-- ============================================ -->

 
<!-- En index.html, dentro de .phone-app-container -->

<!-- ============================================ -->
<!-- ======> NUEVA APP: BANCO DE CUPONES <======= -->
<!-- ============================================ -->
<!-- Vista Principal (Lista de Cupones) -->
<div id="phone-view-coupons" class="phone-app-view">
    <div class="app-content-header">
        <button class="phone-back-btn" data-target="homescreen">‚Äπ</button>
        <span>Banco de Cupones</span>
    </div>
    <div class="app-content-body coupons-app-body">
        <div id="coupons-list" class="coupons-list">
            <!-- Los cupones se cargar√°n aqu√≠ -->
            <div id="coupons-empty-state" class="empty-state" style="display: none;">
                <div class="empty-icon">üíå</div>
                <h2>No hay cupones</h2>
                <p>¬°Crea el primer vale de amor para tu pareja!</p>
            </div>
        </div>
        <button id="go-to-create-coupon-btn" class="btn btn-primary" style="margin-top: auto;">
            + Crear Nuevo Cup√≥n
        </button>
    </div>
</div>

<!-- Vista para Crear un Nuevo Cup√≥n -->
<div id="phone-view-createcoupon" class="phone-app-view">
    <div class="app-content-header">
        <button class="phone-back-btn" data-target="coupons">‚Äπ</button>
        <span>Nuevo Cup√≥n de Amor</span>
    </div>
    <div class="app-content-body create-coupon-body">
        <div class="coupon-preview-card">
            <div class="coupon-header">
                <span class="coupon-title-text">VALE POR...</span>
                <span class="coupon-icon-preview">üéÅ</span>
            </div>
            <div class="coupon-body">
                <p id="coupon-live-preview">Un gesto de amor incre√≠ble</p>
            </div>
            <div class="coupon-footer">
                <span>De: <strong id="coupon-creator-preview">Tu Nombre</strong></span>
            </div>
        </div>

        <input type="text" id="coupon-text-input" class="input" placeholder="Un masaje, una cena, etc." maxlength="50">
        
        <label class="icon-selector-label">Elige un icono para tu vale:</label>
        <div id="coupon-icon-grid" class="icon-grid">
            <!-- Los iconos se cargar√°n aqu√≠ -->
        </div>

        <button id="save-coupon-btn" class="btn btn-primary">Crear y Regalar Cup√≥n</button>
    </div>
</div>

<!-- ============================================ -->
<!-- ======> NUEVA APP: TARRO DE AGRADECIMIENTOS <======= -->
<!-- ============================================ -->
<!-- Vista Principal (Tarro de Agradecimientos) -->
<div id="phone-view-gratitude" class="phone-app-view">
    <div class="app-content-header">
        <button class="phone-back-btn" data-target="homescreen">‚Äπ</button>
        <span>Tarro de Agradecimientos</span>
    </div>
    <div class="app-content-body gratitude-app-body">
        <div class="gratitude-jar-container">
            <div id="gratitude-jar" class="gratitude-jar">
                <div class="jar-lid">–∫—Ä—ã—à–µ—á–∫–∞</div>
                <div class="jar-body">
                    <div id="gratitude-notes-container" class="gratitude-notes-container">
                        <!-- Las notas de agradecimiento se cargar√°n aqu√≠ -->
                    </div>
                </div>
                <div class="jar-bottom"></div>
            </div>
            <button id="shake-jar-btn" class="btn btn-primary">Agitar Tarro üé≤</button>
        </div>
        
        <div class="gratitude-input-container">
            <textarea id="gratitude-note-input" class="textarea" placeholder="Escribe algo por lo que est√°s agradecido..." rows="3"></textarea>
            <div class="gratitude-options">
                <label class="checkbox-container">
                    <input type="checkbox" id="anonymous-checkbox">
                    <span class="checkmark"></span>
                    An√≥nimo
                </label>
                <button id="add-gratitude-note-btn" class="btn btn-primary">A√±adir Nota</button>
            </div>
        </div>
    </div>
</div>

<!-- ============================================ -->
<!-- ======> NUEVA APP: MAPA DE AVENTURAS <======= -->
<!-- ============================================ -->
<!-- Vista Principal (Mapa de Aventuras) -->
<div id="phone-view-map" class="phone-app-view">
    <div class="app-content-header">
        <button class="phone-back-btn" data-target="homescreen">‚Äπ</button>
        <span>Mapa de Aventuras</span>
    </div>
    <div class="app-content-body map-app-body">
        <div id="adventure-map-container" class="map-container">
            <div id="adventure-map" class="adventure-map">
                <!-- El mapa interactivo se generar√° aqu√≠ -->
                <div class="map-placeholder">
                    <div class="map-placeholder-content">
                        <div class="map-icon">üó∫Ô∏è</div>
                        <p>Mapa de nuestras aventuras</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="map-controls">
            <button id="add-map-marker-btn" class="btn btn-primary">
                + A√±adir Marcador
            </button>
        </div>
        
        <div id="map-markers-list" class="map-markers-list">
            <h4>Lugares Marcados</h4>
            <div id="markers-container" class="markers-container">
                <!-- Los marcadores se cargar√°n aqu√≠ -->
                <div id="markers-empty-state" class="empty-state">
                    <div class="empty-icon">üìç</div>
                    <p>A√∫n no hay marcadores. ¬°A√±ade el primer lugar!</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ============================================ -->
<!-- ======> NUEVA APP: CU√ÅNTO NOS CONOCEMOS <======= -->
<!-- ============================================ -->
<!-- Vista Principal (Quiz de Pareja) -->
<div id="phone-view-quiz" class="phone-app-view">
    <div class="app-content-header">
        <button class="phone-back-btn" data-target="homescreen">‚Äπ</button>
        <span>¬øCu√°nto nos conocemos?</span>
    </div>
    <div class="app-content-body quiz-app-body">
        <div class="quiz-container">
            <div id="quiz-start-screen" class="quiz-screen">
                <div class="quiz-icon">‚ùì</div>
                <h3>El Test de Pareja</h3>
                <p>Pon a prueba cu√°nto sabes de tu pareja con este divertido cuestionario</p>
                <button id="start-quiz-btn" class="btn btn-primary">Empezar Test</button>
            </div>
            
            <div id="quiz-question-screen" class="quiz-screen" style="display: none;">
                <div class="quiz-progress">
                    <span id="quiz-progress-text">Pregunta 1 de 5</span>
                    <div class="quiz-progress-bar">
                        <div id="quiz-progress-fill" class="quiz-progress-fill"></div>
                    </div>
                </div>
                
                <div class="quiz-question">
                    <h4 id="quiz-question-text">¬øCu√°l es tu comida favorita?</h4>
                    <div id="quiz-options-container" class="quiz-options">
                        <!-- Las opciones se cargar√°n aqu√≠ -->
                    </div>
                </div>
                
                <button id="quiz-next-btn" class="btn btn-primary" disabled>Siguiente</button>
            </div>
            
            <div id="quiz-results-screen" class="quiz-screen" style="display: none;">
                <div class="quiz-results-icon">üèÜ</div>
                <h3>¬°Test Completado!</h3>
                <div class="quiz-score">
                    <span id="quiz-score-text">80%</span>
                    <p id="quiz-title-text">Pareja Perfecta</p>
                </div>
                <div class="quiz-stats">
                    <div class="stat-card">
                        <div class="stat-value" id="correct-answers">4</div>
                        <div class="stat-label">Aciertos</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="total-questions">5</div>
                        <div class="stat-label">Preguntas</div>
                    </div>
                </div>
                <button id="restart-quiz-btn" class="btn btn-primary">Volver a Jugar</button>
            </div>
        </div>
    </div>
</div>

<!-- ============================================ -->
<!-- ======> NUEVA APP: CALENDARIO DE CITAS <======= -->
<!-- ============================================ -->
<!-- Vista Principal (Calendario de Citas) -->
<div id="phone-view-calendar" class="phone-app-view">
    <div class="app-content-header">
        <button class="phone-back-btn" data-target="homescreen">‚Äπ</button>
        <span>Calendario de Citas</span>
    </div>
    <div class="app-content-body calendar-app-body">
        <div class="calendar-header">
            <button id="prev-month-btn">‚Äπ</button>
            <h3 id="calendar-month-year">Noviembre 2025</h3>
            <button id="next-month-btn">‚Ä∫</button>
        </div>
        
        <div class="calendar-grid-header">
            <div class="calendar-day-header">Dom</div>
            <div class="calendar-day-header">Lun</div>
            <div class="calendar-day-header">Mar</div>
            <div class="calendar-day-header">Mi√©</div>
            <div class="calendar-day-header">Jue</div>
            <div class="calendar-day-header">Vie</div>
            <div class="calendar-day-header">S√°b</div>
        </div>
        
        <div id="calendar-grid" class="calendar-grid">
            <!-- Los d√≠as del calendario se generar√°n aqu√≠ -->
        </div>
        
        <button id="add-date-btn" class="btn btn-primary" style="margin-top: auto;">
            + A√±adir Cita
        </button>
    </div>
</div>

<!-- ============================================ -->
<!-- ======> VISTA DE DETALLE DE CITA <======= -->
<!-- ============================================ -->
<div id="phone-view-date-detail" class="phone-app-view">
    <div class="app-content-header">
        <button class="phone-back-btn" data-target="calendar">‚Äπ</button>
        <span>Detalle de Cita</span>
    </div>
    <div class="app-content-body date-detail-body">
        <div class="date-detail-form">
            <input type="text" id="date-title-input" class="input" placeholder="T√≠tulo de la cita">
            <input type="date" id="date-date-input" class="input">
            <input type="time" id="date-time-input" class="input">
            <input type="text" id="date-location-input" class="input" placeholder="Lugar">
            <textarea id="date-description-input" class="textarea" placeholder="Descripci√≥n (opcional)" rows="3"></textarea>
            
            <div class="date-actions">
                <button id="save-date-btn" class="btn btn-primary">Guardar</button>
                <button id="delete-date-btn" class="btn btn-outline btn-danger">Eliminar</button>
            </div>
        </div>
    </div>
</div>

</div> <!-- <=========== PEGA AQU√ç EL </div> QUE CORRESPONDE A .phone-app-container =========== -->

 
        </div>
        <button id="close-phone-modal-btn" class="phone-home-button"></button>
    </div>
</div>




    <!-- Firebase SDK -->
    <script type="module" src="app.js"></script>
</body>
</html>
