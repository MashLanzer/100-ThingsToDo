/**
 * ANIMATIONS.CSS
 * Todas las animaciones y micro-animaciones de la aplicaciÃ³n
 */

/* =====================
   KEYFRAMES
   ===================== */

/* Botones - Press */
@keyframes btn-press {
  0% { transform: scale(1); }
  50% { transform: scale(0.95); }
  100% { transform: scale(1); }
}

/* BotÃ³n Google - Shimmer effect */
@keyframes google-shimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

/* BotÃ³n bounce suave */
@keyframes btn-bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

/* Glow effect para botones importantes */
@keyframes btn-glow {
  0%, 100% {
    box-shadow: 0 0 5px rgba(139, 111, 71, 0.3);
  }
  50% {
    box-shadow: 0 0 20px rgba(139, 111, 71, 0.6), 0 0 30px rgba(139, 111, 71, 0.3);
  }
}

/* Iconos - Bounce */
@keyframes icon-bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-3px); }
}

/* Modales - Entrada */
@keyframes modal-fade-in {
  from { 
    opacity: 0;
  }
  to { 
    opacity: 1;
  }
}

@keyframes modal-slide-in {
  from {
    transform: translateY(-20px) scale(0.95);
    opacity: 0;
  }
  to {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

/* Modales - Salida */
@keyframes modal-fade-out {
  from { 
    opacity: 1;
  }
  to { 
    opacity: 0;
  }
}

@keyframes modal-slide-out {
  from {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  to {
    transform: translateY(-20px) scale(0.95);
    opacity: 0;
  }
}

/* Tarjetas - Entrada */
@keyframes card-fade-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Items - Entrada */
@keyframes item-slide-in {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Items - Salida */
@keyframes item-slide-out {
  from {
    opacity: 1;
    transform: translateX(0);
  }
  to {
    opacity: 0;
    transform: translateX(20px);
  }
}

/* Utilidades - Shake */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
  20%, 40%, 60%, 80% { transform: translateX(4px); }
}

/* Utilidades - Pulse */
@keyframes pulse {
  0%, 100% { 
    transform: scale(1);
    opacity: 1;
  }
  50% { 
    transform: scale(1.05);
    opacity: 0.9;
  }
}

/* Utilidades - Success Flash */
@keyframes success-flash {
  0%, 100% { 
    background-color: transparent;
  }
  50% { 
    background-color: rgba(139, 195, 74, 0.2);
  }
}

/* Input - Focus Glow */
@keyframes input-glow {
  from {
    box-shadow: 0 0 0 0 rgba(122, 107, 95, 0.4);
  }
  to {
    box-shadow: 0 0 0 4px rgba(122, 107, 95, 0);
  }
}

/* Shimmer effect */
@keyframes shimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

/* Float efecto sutil */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

/* AnimaciÃ³n para dÃ­as del calendario */
@keyframes calendar-day-enter {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Pulso para dÃ­as con entradas */
@keyframes entry-pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
}

/* AnimaciÃ³n para el indicador de entrada */
@keyframes indicator-bounce {
  0%, 100% {
    transform: translateY(0) scale(1);
  }
  50% {
    transform: translateY(-3px) scale(1.2);
  }
}

/* AnimaciÃ³n para estado vacÃ­o */
@keyframes empty-fade-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Efecto de corazones flotantes */
@keyframes hearts-float {
  0% {
    transform: translateY(0) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(-100px) rotate(15deg);
    opacity: 0;
  }
}

/* AnimaciÃ³n para iconos emoji - Rebote suave */
@keyframes emoji-bounce {
  0%, 100% {
    transform: translateY(0) scale(1);
  }
  25% {
    transform: translateY(-10px) scale(1.1);
  }
  50% {
    transform: translateY(-5px) scale(1.05);
  }
  75% {
    transform: translateY(-8px) scale(1.08);
  }
}

/* AnimaciÃ³n para icono de notificaciÃ³n */
@keyframes notification-icon-bounce {
  0% {
    transform: scale(0) rotate(-180deg);
    opacity: 0;
  }
  50% {
    transform: scale(1.2) rotate(10deg);
  }
  100% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}

/* AnimaciÃ³n de rotaciÃ³n y escala para emojis */
@keyframes emoji-wiggle {
  0%, 100% {
    transform: rotate(0deg) scale(1);
  }
  25% {
    transform: rotate(-10deg) scale(1.1);
  }
  50% {
    transform: rotate(10deg) scale(1.15);
  }
  75% {
    transform: rotate(-5deg) scale(1.1);
  }
}

/* Pulso continuo para iconos especiales */
@keyframes emoji-pulse {
  0%, 100% {
    transform: scale(1);
    filter: brightness(1);
  }
  50% {
    transform: scale(1.2);
    filter: brightness(1.2);
  }
}

/* AnimaciÃ³n para tarjeta de Ãºltimo recuerdo */
@keyframes card-slide-up {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Shimmer effect para la tarjeta */
@keyframes card-shimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

/* =====================
   CLASES DE ANIMACIÃ“N
   ===================== */

/* BOTONES */
.btn-press {
  animation: btn-press 200ms ease-out;
}

.icon-bounce {
  animation: icon-bounce 400ms ease-in-out;
}

/* BotÃ³n de Google con efecto shimmer */
.google-btn,
button[aria-label*="Google"] {
  position: relative;
  overflow: hidden;
  transition: all 300ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

.google-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.3),
    transparent
  );
  animation: google-shimmer 3s infinite;
}

.google-btn:hover {
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 8px 20px rgba(66, 133, 244, 0.3);
}

/* Botones primarios con glow */
.btn-primary:hover,
#saveEditBtn:hover,
#createPlanBtn:hover,
#createTaskBtn:hover {
  animation: btn-glow 2s ease-in-out infinite;
}

/* BotÃ³n de editar plan */
#editPlanBtn {
  transition: all 300ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

#editPlanBtn:hover {
  transform: rotate(5deg) scale(1.1);
}

/* BotÃ³n de crear nuevo plan */
#newPlanBtn {
  transition: all 400ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

#newPlanBtn:hover {
  animation: btn-bounce 600ms ease-in-out;
  box-shadow: 0 8px 25px rgba(139, 111, 71, 0.4);
}

/* BotÃ³n de desvincular pareja */
.btn-danger,
#unlinkBtn {
  transition: all 250ms ease;
}

.btn-danger:hover,
#unlinkBtn:hover {
  transform: scale(1.05);
  box-shadow: 0 6px 20px rgba(244, 67, 54, 0.4);
}

/* MODALES */
.modal-enter {
  animation: modal-fade-in 250ms ease-out;
}

.modal-content-enter {
  animation: modal-slide-in 300ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

.modal-exit {
  animation: modal-fade-out 250ms ease-in;
}

.modal-content-exit {
  animation: modal-slide-out 250ms ease-in;
}

/* TARJETAS */
.plan-card,
.feature-card {
  opacity: 0;
  transition: opacity 300ms ease, transform 300ms ease;
}

.card-visible {
  animation: card-fade-up 400ms ease-out forwards;
}

.card-hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(122, 107, 95, 0.15);
}

/* ITEMS DE LISTA */
.item-enter {
  animation: item-slide-in 300ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

.item-exit {
  animation: item-slide-out 250ms ease-in forwards;
}

/* INPUTS */
.input-focus {
  animation: input-glow 400ms ease-out;
  border-color: var(--primary);
}

.input-typing {
  border-color: var(--primary);
  background: linear-gradient(
    90deg,
    transparent,
    rgba(122, 107, 95, 0.03),
    transparent
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

.label-active {
  color: var(--primary);
  font-weight: 500;
  transform: translateY(-2px);
  transition: all 200ms ease;
}

/* UTILIDADES */
.shake {
  animation: shake 400ms ease-in-out;
}

.pulse {
  animation: pulse 600ms ease-in-out;
}

.success-flash {
  animation: success-flash 800ms ease-in-out;
}

/* EFECTOS HOVER GENERALES */
.btn,
.btn-primary,
.btn-outline {
  transition: all 300ms cubic-bezier(0.34, 1.56, 0.64, 1);
  position: relative;
}

.btn:hover,
.btn-primary:hover {
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 6px 16px rgba(122, 107, 95, 0.25);
}

.btn-outline:hover {
  transform: translateY(-2px) scale(1.02);
  background: rgba(122, 107, 95, 0.08);
  box-shadow: 0 4px 12px rgba(122, 107, 95, 0.15);
}

/* Efecto ripple en botones al hacer click */
.btn:active::after,
.btn-primary:active::after,
.btn-outline:active::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.5);
  transform: translate(-50%, -50%);
  animation: ripple 600ms ease-out;
}

@keyframes ripple {
  to {
    width: 200%;
    height: 200%;
    opacity: 0;
  }
}

/* Botones de icono */
.icon-btn,
.delete-btn {
  transition: all 200ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

.icon-btn:hover,
.delete-btn:hover {
  transform: scale(1.15) rotate(5deg);
}

.icon-btn:active,
.delete-btn:active {
  transform: scale(0.9) rotate(-5deg);
}

/* Botones de cerrar modal con rotaciÃ³n */
.close-btn:hover {
  transform: rotate(90deg) scale(1.1);
  transition: all 300ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Checkbox animado */
.checkbox {
  transition: all 200ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

.checkbox:checked {
  transform: scale(1.1);
}

/* Task item hover */
.task-item {
  transition: all 200ms ease;
}

.task-item:hover {
  background: rgba(122, 107, 95, 0.03);
  transform: translateX(4px);
}

/* Smooth transitions para todos los elementos interactivos */
a,
button,
.btn,
.card,
input,
textarea {
  transition: all 200ms ease;
}

/* =====================
   ANIMACIONES DEL CALENDARIO
   ===================== */

/* DÃ­as del calendario con entrada animada */
.calendar-day-enter {
  animation: calendar-day-enter 300ms cubic-bezier(0.34, 1.56, 0.64, 1) backwards;
}

/* DÃ­as con entradas en el diario */
.calendar-day.has-entry {
  position: relative;
  font-weight: 700;
  color: #fff;
  background: linear-gradient(135deg, #8B6F47 0%, #A08968 100%);
  box-shadow: 0 2px 8px rgba(139, 111, 71, 0.3);
  border-radius: 50%;
}

.calendar-day.has-entry:hover {
  background: linear-gradient(135deg, #A08968 0%, #B5A089 100%);
  box-shadow: 0 4px 12px rgba(139, 111, 71, 0.5);
  transform: scale(1.15);
}

/* Indicador de entrada (corazÃ³n) */
.day-entry-indicator {
  position: absolute;
  top: -2px;
  right: -2px;
  font-size: 12px;
  background: white;
  border-radius: 50%;
  width: 18px;
  height: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  animation: indicator-bounce 2s ease-in-out infinite;
}

.calendar-day.has-entry .day-entry-indicator {
  animation: indicator-bounce 2s ease-in-out infinite, entry-glow 2s ease-in-out infinite;
}

@keyframes entry-glow {
  0%, 100% {
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }
  50% {
    box-shadow: 0 0 12px rgba(255, 105, 180, 0.8), 0 0 20px rgba(255, 105, 180, 0.4);
  }
}

/* DÃ­a de hoy con borde especial */
.calendar-day.today {
  border: 2px solid var(--primary);
  box-shadow: 0 0 10px rgba(139, 111, 71, 0.3);
}

/* =====================
   ANIMACIONES ESTADO VACÃO
   ===================== */

.empty-state {
  animation: empty-fade-in 600ms ease-out;
}

.empty-state .empty-icon {
  display: inline-block;
  animation: float 3s ease-in-out infinite;
}

/* Agregar corazones flotantes decorativos */
.empty-state::before {
  content: 'ðŸ’•';
  position: absolute;
  top: 20%;
  left: 10%;
  font-size: 24px;
  animation: hearts-float 4s ease-in infinite;
  animation-delay: 0s;
}

.empty-state::after {
  content: 'ðŸ’•';
  position: absolute;
  top: 30%;
  right: 10%;
  font-size: 20px;
  animation: hearts-float 4s ease-in infinite;
  animation-delay: 2s;
}

/* =====================
   SECCIÃ“N PAREJA VINCULADA
   ===================== */

.couple-linked-view {
  animation: empty-fade-in 500ms ease-out;
}

.couple-linked-view h3 {
  animation: float 2s ease-in-out infinite;
}

.couple-info {
  transition: all 300ms ease;
}

.couple-info:hover {
  transform: scale(1.02);
  box-shadow: 0 4px 12px rgba(139, 111, 71, 0.15);
}

/* =====================
   ANIMACIONES DE ICONOS EMOJI
   ===================== */

/* Icono ðŸ’ - Pareja vinculada */
.couple-linked-icon {
  display: inline-block;
  font-size: 48px;
  animation: emoji-bounce 2s ease-in-out infinite;
}

/* Icono ðŸ‘‹ - Saludo/Despedida */
.wave-icon,
.logout-icon {
  display: inline-block;
  animation: emoji-wiggle 1s ease-in-out infinite;
  transform-origin: bottom right;
}

/* Icono ðŸ’– - CorazÃ³n especial */
.heart-icon,
.love-icon {
  display: inline-block;
  animation: emoji-pulse 1.5s ease-in-out infinite;
}

/* Iconos del modal de estadÃ­sticas */
.stats-icon {
  display: inline-block;
  animation: emoji-wiggle 2s ease-in-out infinite;
}

.stats-heart {
  display: inline-block;
  animation: emoji-pulse 1.5s ease-in-out infinite;
  margin-left: 8px;
}

/* =====================
   MODAL ACERCA DE
   ===================== */

.about-section {
  animation: empty-fade-in 600ms ease-out;
}

.about-icon.heart-icon {
  font-size: 64px;
  margin: 20px 0;
  filter: drop-shadow(0 4px 8px rgba(255, 105, 180, 0.3));
}

.about-title {
  animation: float 3s ease-in-out infinite;
}

.about-description {
  animation: empty-fade-in 800ms ease-out 200ms backwards;
}

.credits-section {
  animation: empty-fade-in 1000ms ease-out 400ms backwards;
}

/* =====================
   MODAL ESTADÃSTICAS
   ===================== */

.stats-section {
  animation: empty-fade-in 600ms ease-out;
}

.stats-section-title {
  animation: float 2s ease-in-out infinite;
  text-align: center;
  margin-bottom: 20px;
}

.stat-card-animated {
  animation: card-slide-up 500ms cubic-bezier(0.34, 1.56, 0.64, 1) backwards;
  transition: all 300ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

.stat-card-animated:nth-child(1) {
  animation-delay: 100ms;
}

.stat-card-animated:nth-child(2) {
  animation-delay: 200ms;
}

.stat-card-animated:nth-child(3) {
  animation-delay: 300ms;
}

.stat-card-animated:nth-child(4) {
  animation-delay: 400ms;
}

.stat-card-animated:hover {
  transform: translateY(-8px) scale(1.05);
  box-shadow: 0 8px 20px rgba(139, 111, 71, 0.25);
}

.stat-value {
  font-size: 32px;
  font-weight: 700;
  color: var(--primary);
  animation: count-up 800ms ease-out;
}

@keyframes count-up {
  from {
    opacity: 0;
    transform: scale(0.5);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.stat-person-animated {
  animation: card-slide-up 600ms cubic-bezier(0.34, 1.56, 0.64, 1) backwards;
  transition: all 300ms ease;
}

.stat-person-animated:first-child {
  animation-delay: 200ms;
}

.stat-person-animated:last-child {
  animation-delay: 400ms;
}

.stat-person-animated:hover {
  transform: scale(1.08);
  background: rgba(139, 111, 71, 0.05);
  border-radius: 12px;
  padding: 12px;
}

.stat-person-value {
  font-size: 36px;
  font-weight: 700;
  color: var(--primary);
  animation: count-up 1000ms ease-out;
}

.stat-divider.heart-icon {
  font-size: 32px;
  animation: emoji-pulse 1.5s ease-in-out infinite;
}

/* =====================
   TARJETA ÃšLTIMO RECUERDO
   ===================== */

.journal-preview {
  animation: card-slide-up 600ms cubic-bezier(0.34, 1.56, 0.64, 1);
  transition: all 400ms cubic-bezier(0.34, 1.56, 0.64, 1);
  position: relative;
  overflow: hidden;
  cursor: pointer;
}

.journal-preview-show {
  animation: card-slide-up 600ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

.journal-preview::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.3),
    transparent
  );
  animation: card-shimmer 3s infinite;
  pointer-events: none;
}

.journal-preview:hover {
  transform: translateY(-8px) scale(1.02);
  box-shadow: 0 12px 30px rgba(139, 111, 71, 0.25);
}

.journal-preview:active {
  transform: translateY(-4px) scale(0.98);
}

.journal-preview h4 {
  animation: float 2.5s ease-in-out infinite;
}

.journal-preview .preview-content {
  transition: all 300ms ease;
}

.journal-preview:hover .preview-content {
  transform: scale(1.03);
}

.journal-preview img {
  transition: all 400ms ease;
  border-radius: 8px;
}

.journal-preview:hover img {
  transform: scale(1.1);
  filter: brightness(1.1);
}

.journal-preview .preview-text {
  transition: all 300ms ease;
}

.journal-preview:hover .preview-text {
  color: var(--primary);
}

/* Reducir movimiento para usuarios con preferencias de accesibilidad */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* =====================
   ANIMACIONES MINI-APPS
   ===================== */

/* AnimaciÃ³n de entrada para las vistas de apps */
.phone-app-view.active {
  animation: app-slide-in 400ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes app-slide-in {
  from {
    opacity: 0;
    transform: translateX(100%);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* ðŸŽ§ MÃšSICA - Animaciones */
#phone-view-player .cassette-player {
  animation: float 3s ease-in-out infinite;
  transition: all 400ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

#phone-view-player .cassette-player:hover {
  transform: translateY(-10px) scale(1.05);
  filter: drop-shadow(0 10px 20px rgba(139, 111, 71, 0.3));
}

.cassette-player.playing {
  animation: float 3s ease-in-out infinite, cassette-glow 2s ease-in-out infinite;
}

@keyframes cassette-glow {
  0%, 100% {
    filter: drop-shadow(0 0 10px rgba(139, 111, 71, 0.3));
  }
  50% {
    filter: drop-shadow(0 0 25px rgba(139, 111, 71, 0.6));
  }
}

.turntable-vinyl {
  transition: transform 400ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

.turntable-container.playing .turntable-vinyl {
  animation: vinyl-spin 3s linear infinite;
}

@keyframes vinyl-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.player-controls button {
  transition: all 300ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

.player-controls button:hover {
  transform: scale(1.2) rotate(5deg);
}

.player-controls button:active {
  transform: scale(0.9) rotate(-5deg);
}

/* ðŸŽ RETO DIARIO - Animaciones */
#phone-view-surprise .surprise-card {
  animation: card-slide-up 600ms cubic-bezier(0.34, 1.56, 0.64, 1);
  transition: all 400ms ease;
}

#phone-view-surprise .surprise-card:hover {
  transform: translateY(-8px) scale(1.02);
  box-shadow: 0 12px 30px rgba(139, 111, 71, 0.25);
}

.surprise-icon {
  display: inline-block;
  font-size: 48px;
  animation: emoji-bounce 2s ease-in-out infinite;
}

.surprise-card h3 {
  animation: float 2.5s ease-in-out infinite;
}

#refresh-surprise-btn {
  position: relative;
  overflow: hidden;
}

#refresh-surprise-btn:hover {
  animation: btn-bounce 600ms ease-in-out;
}

#refresh-surprise-btn svg {
  transition: transform 500ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

#refresh-surprise-btn:hover svg {
  transform: rotate(360deg);
}

/* â³ CÃPSULA TEMPORAL - Animaciones */
#phone-view-timecapsule .capsule-item {
  animation: item-slide-in 400ms cubic-bezier(0.34, 1.56, 0.64, 1) backwards;
  transition: all 300ms ease;
}

#phone-view-timecapsule .capsule-item:nth-child(1) {
  animation-delay: 100ms;
}

#phone-view-timecapsule .capsule-item:nth-child(2) {
  animation-delay: 200ms;
}

#phone-view-timecapsule .capsule-item:nth-child(3) {
  animation-delay: 300ms;
}

#phone-view-timecapsule .capsule-item:hover {
  transform: translateX(8px) scale(1.03);
  box-shadow: 0 4px 16px rgba(139, 111, 71, 0.2);
  background: linear-gradient(90deg, rgba(139, 111, 71, 0.05), transparent);
}

.capsule-icon {
  display: inline-block;
  animation: float 2s ease-in-out infinite;
}

.capsule-item.locked {
  opacity: 0.6;
  animation: item-slide-in 400ms ease backwards, pulse 2s ease-in-out infinite;
}

.capsule-countdown {
  animation: count-up 800ms ease-out;
}

/* ðŸ’° METAS FUTURAS - Animaciones */
#phone-view-budget .goal-item {
  animation: card-slide-up 500ms cubic-bezier(0.34, 1.56, 0.64, 1) backwards;
  transition: all 300ms ease;
}

#phone-view-budget .goal-item:nth-child(1) {
  animation-delay: 100ms;
}

#phone-view-budget .goal-item:nth-child(2) {
  animation-delay: 200ms;
}

#phone-view-budget .goal-item:nth-child(3) {
  animation-delay: 300ms;
}

#phone-view-budget .goal-item:hover {
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 8px 24px rgba(139, 111, 71, 0.25);
}

.goal-icon {
  display: inline-block;
  font-size: 32px;
  animation: emoji-pulse 2s ease-in-out infinite;
}

.goal-progress {
  position: relative;
  overflow: hidden;
}

.goal-progress-bar {
  transition: width 800ms cubic-bezier(0.34, 1.56, 0.64, 1);
  animation: progress-fill 1.5s ease-out;
}

@keyframes progress-fill {
  from {
    width: 0;
  }
}

.goal-progress-bar::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.4),
    transparent
  );
  animation: shimmer 2s infinite;
}

.goal-amount {
  animation: count-up 1000ms ease-out;
  font-weight: 700;
  color: var(--primary);
}

/* Animaciones para elementos de meta individual */
#goal-current-amount,
#goal-target-amount {
  display: inline-block;
  transition: all 300ms ease;
}

#goal-current-amount {
  animation: pulse-glow 2s ease-in-out infinite;
  color: var(--primary);
  font-size: 1.1em;
}

@keyframes pulse-glow {
  0%, 100% {
    transform: scale(1);
    text-shadow: 0 0 0px rgba(139, 111, 71, 0);
  }
  50% {
    transform: scale(1.05);
    text-shadow: 0 0 12px rgba(139, 111, 71, 0.3);
  }
}

/* BotÃ³n de aportar */
#add-contribution-btn {
  position: relative;
  overflow: hidden;
  transition: all 300ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

#add-contribution-btn:hover {
  transform: scale(1.05) translateY(-2px);
  box-shadow: 0 8px 20px rgba(139, 111, 71, 0.3);
}

#add-contribution-btn:active {
  transform: scale(0.98);
}

/* Input de aportaciÃ³n */
#contribution-amount {
  transition: all 300ms ease;
}

#contribution-amount:focus {
  transform: scale(1.02);
  border-color: var(--primary);
  box-shadow: 0 0 0 4px rgba(139, 111, 71, 0.1);
}

/* BotÃ³n agregar meta */
#add-goal-btn {
  transition: all 300ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

#add-goal-btn:hover {
  animation: btn-bounce 600ms ease-in-out;
  box-shadow: 0 8px 25px rgba(139, 111, 71, 0.4);
}

/* Icono del cerdito */
.piggy-bank-icon {
  display: inline-block;
  font-size: 48px;
  animation: piggy-wiggle 3s ease-in-out infinite;
  transition: all 300ms ease;
}

.piggy-bank-icon:hover {
  animation: piggy-wiggle-fast 0.5s ease-in-out;
  transform: scale(1.2);
}

@keyframes piggy-wiggle {
  0%, 100% {
    transform: rotate(0deg) translateY(0);
  }
  25% {
    transform: rotate(-5deg) translateY(-3px);
  }
  50% {
    transform: rotate(0deg) translateY(0);
  }
  75% {
    transform: rotate(5deg) translateY(-3px);
  }
}

@keyframes piggy-wiggle-fast {
  0%, 100% {
    transform: rotate(0deg) scale(1.2);
  }
  25% {
    transform: rotate(-15deg) scale(1.3);
  }
  50% {
    transform: rotate(0deg) scale(1.25);
  }
  75% {
    transform: rotate(15deg) scale(1.3);
  }
}

/* Estados vacÃ­os de mini-apps */
.capsules-empty-state,
.goals-empty-state,
.coupons-empty-state,
.surprise-empty {
  animation: empty-fade-in 600ms ease-out;
}

.capsules-empty-state::before,
.goals-empty-state::before,
.coupons-empty-state::before {
  content: 'âœ¨';
  position: absolute;
  top: 10%;
  left: 15%;
  font-size: 24px;
  animation: hearts-float 4s ease-in infinite;
}

.capsules-empty-state::after,
.goals-empty-state::after,
.coupons-empty-state::after {
  content: 'ðŸ’«';
  position: absolute;
  top: 20%;
  right: 15%;
  font-size: 20px;
  animation: hearts-float 4s ease-in infinite;
  animation-delay: 2s;
}

/* ============================================ */
/* ANIMACIONES PARA CUPONES DE AMOR            */
/* ============================================ */

/* CupÃ³n individual */
.coupon-card {
  animation: coupon-slide-in 400ms ease-out;
}

@keyframes coupon-slide-in {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* AnimaciÃ³n de canjear cupÃ³n */
.coupon-redeeming {
  animation: coupon-redeem 800ms ease-out forwards;
}

@keyframes coupon-redeem {
  0% {
    transform: scale(1) rotate(0deg);
  }
  20% {
    transform: scale(1.1) rotate(3deg);
  }
  40% {
    transform: scale(0.95) rotate(-3deg);
  }
  60% {
    transform: scale(1.05) rotate(2deg);
  }
  100% {
    transform: scale(0.98) rotate(0deg);
    opacity: 0.6;
    filter: grayscale(50%);
  }
}

/* Efecto de sello al canjear */
.coupon-stamp {
  animation: stamp-appear 600ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes stamp-appear {
  0% {
    transform: translate(-50%, -50%) rotate(-15deg) scale(0);
    opacity: 0;
  }
  50% {
    transform: translate(-50%, -50%) rotate(-15deg) scale(1.3);
  }
  100% {
    transform: translate(-50%, -50%) rotate(-15deg) scale(1);
    opacity: 0.3;
  }
}

/* AnimaciÃ³n del icono del cupÃ³n */
.coupon-icon {
  display: inline-block;
  animation: coupon-icon-wiggle 2s ease-in-out infinite;
}

@keyframes coupon-icon-wiggle {
  0%, 100% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(-5deg);
  }
  75% {
    transform: rotate(5deg);
  }
}

/* Hover en cupÃ³n */
.coupon-card:hover .coupon-icon {
  animation: coupon-icon-wiggle 0.5s ease-in-out;
}

/* BotÃ³n flotante de crear cupÃ³n */
.floating-btn {
  animation: float-pulse 3s ease-in-out infinite;
}

@keyframes float-pulse {
  0%, 100% {
    transform: translateY(0) scale(1);
    box-shadow: 0 8px 20px rgba(139, 111, 71, 0.3);
  }
  50% {
    transform: translateY(-5px) scale(1.05);
    box-shadow: 0 12px 28px rgba(139, 111, 71, 0.4);
  }
}

.floating-btn:hover {
  animation: btn-bounce 600ms ease-in-out;
}

/* AnimaciÃ³n de entrada escalonada para cupones */
.coupon-card:nth-child(1) {
  animation-delay: 0ms;
}

.coupon-card:nth-child(2) {
  animation-delay: 100ms;
}

.coupon-card:nth-child(3) {
  animation-delay: 200ms;
}

.coupon-card:nth-child(4) {
  animation-delay: 300ms;
}

.coupon-card:nth-child(5) {
  animation-delay: 400ms;
}

.coupon-card:nth-child(6) {
  animation-delay: 500ms;
}

/* ============================================ */

/* AnimaciÃ³n para iconos de mini-apps en homescreen */
.phone-app-icon {
  transition: all 300ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

.phone-app-icon:hover {
  transform: scale(1.15) translateY(-8px);
  filter: drop-shadow(0 8px 16px rgba(139, 111, 71, 0.3));
}

.phone-app-icon:active {
  transform: scale(0.95) translateY(-2px);
}

.phone-app-icon span {
  transition: all 200ms ease;
}

.phone-app-icon:hover span {
  color: var(--primary);
  font-weight: 600;
}

/* Animaciones especÃ­ficas para cada icono - todos con bounce sutil */
.app-icon-journal,
.app-icon-music,
.app-icon-gift,
.app-icon-time,
.app-icon-money,
.app-icon-coupon {
  animation: emoji-bounce 2s ease-in-out infinite;
}

/* Hover mejorado para iconos - todos con el mismo bounce */
.phone-app-icon:hover .app-icon-journal,
.phone-app-icon:hover .app-icon-music,
.phone-app-icon:hover .app-icon-gift,
.phone-app-icon:hover .app-icon-time,
.phone-app-icon:hover .app-icon-money,
.phone-app-icon:hover .app-icon-coupon {
  animation: emoji-bounce 0.6s ease-in-out;
}

/* AnimaciÃ³n de entrada para contenido de apps */
.app-content-body > * {
  animation: content-fade-in 500ms ease-out backwards;
}

.app-content-body > *:nth-child(1) {
  animation-delay: 100ms;
}

.app-content-body > *:nth-child(2) {
  animation-delay: 200ms;
}

.app-content-body > *:nth-child(3) {
  animation-delay: 300ms;
}

@keyframes content-fade-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
